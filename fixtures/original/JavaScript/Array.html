<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html dir="ltr" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Array</title>
    <meta content="caterpillar" name="author">
    <meta content="JavaScript Array" name="keywords">
    <link href="css/std.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <div class="header">
      <div class="hgroup">
        <h3><a href="http://openhome.cc/eGossip/">From eGossip@Openhome</a></h3>
        <h1><a href="index.html">JavaScript Essence: Array<br>
          </a></h1>
      </div>
    </div>
    <div class="article">
      <div align="right"><a href="../../Gossip/JavaScript/Array.html">中文</a><br>
        <br>
      </div>
      An array has continuous memory layout. JavaScript has no actual array but uses objects to imitate it. If you want to create a so-called array (here we still call it array) in JavaScript, you can use the <span
        class="courier">Array</span> constructor. For example: <br>
      <table class="cmd">
        <tbody>
          <tr>
            <td><strong>js&gt; var array1 = new Array();<br>
                js&gt; array1.length;</strong><br>
              0<br>
              <strong>js&gt; var array2 = new Array(10);<br>
                js&gt; array2.length;</strong><br>
              10<br>
              <strong>js&gt; var array3 = new Array(10, 20, 30);<br>
                js&gt; array3.length;</strong><br>
              3<br>
              <strong>js&gt;</strong><br>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      The above demonstrates three ways to create an <span class="courier">Array</span> instance. The first way creates an empty <span
        class="courier">Array</span> instance. The second creates an <span
        class="courier">Array</span> instance of <span class="courier">length</span> 10 and each value of indices 0 to 9 is <span
        class="courier">undefined</span>. The third way creates an <span
        class="courier">Array</span> instance with three elements, 10, 20 and 30 respectively from index 0. <br>
      <br>
      In fact, real JavaScrip developers rarely use the <span class="courier">Array</span> constructor to create an <span
        class="courier">Array</span> instance but use an array literal. For example: <br>
      <table class="cmd">
        <tbody>
          <tr>
            <td><strong>js&gt; var array1 = [];<br>
                js&gt; array1.length;<br>
              </strong>0<strong><br>
                js&gt; var array2 = [];<br>
                js&gt; array2.length = 10;<br>
              </strong>10<strong><br>
                js&gt; array2.length;<br>
              </strong>10<strong><br>
                js&gt; var array3 = [10, 20, 30];<br>
                js&gt; array3.length;<br>
              </strong>3<strong><br>
                js&gt;</strong><br>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      Your eyes didn't deceive you. In JavaScript, The <span class="courier">length</span> property of an <span
        class="courier">Array</span> instance is updatable. For example:<br>
      <table class="cmd">
        <tbody>
          <tr>
            <td><strong>js&gt; var array = [1, 2, 3];<br>
                js&gt; for(var i = 0; i &lt; array.length; i++) {<br>
                &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(array[i]);<br>
                &nbsp; &gt; }<br>
              </strong>1<br>
              2<br>
              3<strong><br>
                js&gt; array.length = 5;<br>
              </strong>5<strong><br>
                js&gt; for(var i = 0; i &lt; array.length; i++) {<br>
                &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(array[i]);<br>
                &nbsp; &gt; }</strong><br>
              1<br>
              2<br>
              3<br>
              undefined<br>
              undefined<strong><br>
                js&gt; array.length = 2;<br>
              </strong>2<strong><br>
                js&gt; for(var i = 0; i &lt; array.length; i++) {<br>
                &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(array[i]);<br>
                &nbsp; &gt; }<br>
              </strong>1<br>
              2<strong><br>
                js&gt; array.length = 3;<br>
              </strong>3<strong><br>
                js&gt; for(var i = 0; i &lt; array.length; i++) {<br>
                &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(array[i]);<br>
                &nbsp; &gt; }</strong><br>
              1<br>
              2<br>
              undefined<strong><br>
                js&gt;</strong><br>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      In the above example, the original <span class="courier">length</span> is 3, and then assigned 5. Values of indices 3 and 4 are all <span
        class="courier">undefined</span>. While the <span class="courier">length</span> is assigned 2, the value of index 2 is gone even if <span
        class="courier">length</span> is assigned 3 again.<br>
      <br>
      An array has continuous memory layout. JavaScript has no actual array but uses objects to imitate it. In fact, the indices of an <span
        class="courier">Array</span> instance are actually properties with numeric names. As a matter of fact, an index can be assigned a string if it represents a number. <br>
      <table class="cmd">
        <tbody>
          <tr>
            <td><strong>js&gt; var array = [1, 2, 3];<br>
                js&gt; array['0'];<br>
              </strong>1<strong><br>
                js&gt; array['1'];<br>
              </strong>2<strong><br>
                js&gt; array['2'];<br>
              </strong>3<strong><br>
                js&gt; for(var i in array) {<br>
                &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(i);<br>
                &nbsp; &gt; }<br>
              </strong>0<br>
              1<br>
              2<strong><br>
                js&gt; delete array[1];<br>
              </strong>true<strong><br>
                js&gt; array;<br>
              </strong>1,,3<strong><br>
                js&gt;</strong><br>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      Therefore, you can use <span class="courier">delete</span> to delete elements in an <span
        class="courier">Array</span> instance because indices are actually properties of an <span
        class="courier">Array</span> instance. And that, you can easily use a plain object to imitate an <span
        class="courier">Array</span> instance. <br>
      <table class="cmd">
        <tbody>
          <tr>
            <td><strong>js&gt; var obj = {<br>
                &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; '0' : 100,<br>
                &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; '1' : 200,<br>
                &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; '2' : 300,<br>
                &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; length : 3<br>
                &nbsp; &gt; };<br>
                js&gt; for(var i = 0; i &lt; obj.length; i++) {<br>
                &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(obj[i]);<br>
                &nbsp; &gt; }<br>
              </strong>100<br>
              200<br>
              300<strong><br>
                js&gt;</strong><br>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      The <span class="courier">obj</span> is so-called an <strong>array-like</strong> object. What's good for you to create an <span
        class="courier">Array</span> instance or what are the benefits to an array literal? Of course, in order to own behaviors defined on <span
        class="courier">Array</span>, such as automatic updates of the <span
        class="courier">length</span> property according to numbers of elements. <br>
      <table class="cmd">
        <tbody>
          <tr>
            <td><strong>js&gt; var array = [];<br>
                js&gt; array.length;<br>
              </strong>0<strong><br>
                js&gt; array[0] = 100;<br>
              </strong>100<strong><br>
                js&gt; array.length;<br>
              </strong>1<strong><br>
                js&gt; array[1] = 200;<br>
              </strong>200<strong><br>
                js&gt; array.length;<br>
              </strong>2<strong><br>
                js&gt; array[10] = 900;<br>
              </strong>900<strong><br>
                js&gt; array.length;<br>
              </strong>11<strong><br>
                js&gt;</strong><br>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      The <span class="courier">length</span> property of an <span class="courier">Array</span> instance can increase or decrease at any time. Also, array elements can be assigned without continuous indices. For the above example, index 10 is assigned 900 and the unassigned indices 2 to 9 are all <span
        class="courier">undefined</span>, like nonexistence of properties 2 to 9. There's no so-called 'index out of bound' problem in JavaScript. In the above example, trying to retrieve the value of <span
        class="courier">array[10000]</span>&nbsp; will just get <span class="courier">undefined</span>. <br>
      <br>
      Using an <span class="courier">Array</span> instance directly can own methods defined on <span
        class="courier">Array</span>. For example:<br>
      <table class="cmd">
        <tbody>
          <tr>
            <td><strong>js&gt; var array = [100, 200, 300];<br>
                js&gt; array.forEach(function(element) {<br>
                &nbsp; &gt;&nbsp;&nbsp;&nbsp;&nbsp; print(element);<br>
                &nbsp; &gt; });<br>
              </strong>100<br>
              200<br>
              300<strong><br>
                js&gt;</strong><br>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      The <span class="courier">forEach</span> method is defined on <span
        class="courier">Array</span>. It accepts a callback function and iterates over the array elements. At each iteration, it calls the callback function and pass it an iterated element. This is a preferred way for JavaScript to iterate elements of an <span
        class="courier">Array</span> instance (or an array-like object). Like <span
        class="courier">forEach</span>, there are many methods that accept functions on <span
        class="courier">Array</span>. <br>
      <br>
      The following example demonstrates the <span class="courier">push</span> and <span
        class="courier">pop</span> methods on <span class="courier">Array</span>:<br>
      <table class="cmd">
        <tbody>
          <tr>
            <td><strong>js&gt; var array = [];<br>
                js&gt; array.push(100);<br>
              </strong>1<strong><br>
                js&gt; array.push(200);<br>
              </strong>2<strong><br>
                js&gt; array.push(300);<br>
              </strong>3<strong><br>
                js&gt; array;<br>
              </strong>100,200,300<strong><br>
                js&gt; array.pop();<br>
              </strong>300<strong><br>
                js&gt; array;<br>
              </strong>100,200<strong><br>
                js&gt; array.pop();<br>
              </strong>200<strong><br>
                js&gt; array;<br>
              </strong>100<strong><br>
                js&gt;</strong><br>
            </td>
          </tr>
        </tbody>
      </table>
      <br>
      For more methods on <span class="courier">Array</span>, take a look at:<br>
      <ul>
        <li> <a href="http://www.aptana.com/reference/html/api/Array.html">Array</a></li>
      </ul>
      <br>
      <br>
      <br>
      <p></p>
      <p></p>
      <ul>
      </ul>
    </div>
    <div class="aside">
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
      </script> <br>
      <br>
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
      </script> <br>
      <br>
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
      </script> <br>
      <br>
      <br>
    </div>
    <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script> <script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script> </body>
</html>
