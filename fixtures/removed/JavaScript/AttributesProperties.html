<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html dir="ltr" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Attributes and Properties</title>
    <meta content="caterpillar" name="author">
    <meta content="JavaScript Attributes Properties setAttribute getAttribute removeAttribute"
      name="keywords">
    <link href="css/std.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <div class="header">
      <div class="hgroup">
        <h3><a href="http://openhome.cc/eGossip/">From eGossip@Openhome</a></h3>
        <h1><a href="index.html">JavaScript Essence: Attributes and Properties<br>
          </a></h1>
      </div>
    </div>
    <div class="article">
      <div align="right"><a href="../../Gossip/JavaScript/AttributeProperty.html">中文</a><br>
      </div>
      <br>
      After getting into topics about JavaScript in browsers, two terminologies - attribute and property - appears alternatively. I still haven't made these two terminologies and concepts straight. <br>
      <br>
      In fact, before getting into topics about JavaScript in browsers, I always use the terminology "property" to indicate a name and value owned by a JavaScript object. For example: <br>
      <blockquote><strong><span class="courier">var obj = {</span></strong><br>
        <strong><span class="courier">&nbsp;&nbsp;&nbsp; x: 10,</span></strong><br>
        <strong><span class="courier">&nbsp;&nbsp;&nbsp; y: 20</span></strong><br>
        <strong><span class="courier">};</span></strong><br>
      </blockquote>
      I say that the object <span class="courier">obj</span> has properties <span
        class="courier">x</span> and <span class="courier">y</span>; the value of the property <span
        class="courier">x</span> is 10 and the value of <span class="courier">y</span> is 20. <br>
      <br>
      Attributes represent the values that are defined on the markup of HTML tags. For example: <br>
      <blockquote><strong><span class="courier">&lt;input name="user" value="guest"&gt;</span></strong><br>
      </blockquote>
      I say that the <span class="courier">input</span> tag has attributes <span
        class="courier">name</span> and <span class="courier">value</span>; their respective values are "user" and "guest". <br>
      <br>
      Browsers parse the HTML document and create corresponding DOM elements for all tag. After parsing, DOM elements create all respective properties for all HTML attributes - whether written statically in the document or not. Basically, attributes and properties have the same name; if a tag defines an attribute value, its corresponding property will have that value. If a tag doesn't define some attributes, the corresponding DOM element provides properties default values. <br>
      <br>
      In the above example, on the corresponding DOM elements of the <span
        class="courier">input</span> tag, the respective values for properties <span
        class="courier">name</span> and <span class="courier">value</span> are <span
        class="courier">'user'</span> and <span class="courier">'guest'</span>. You can get them as follows (assuming it's the first <span
        class="courier">input</span> tag of the document): <br>
      <blockquote><strong><span class="courier">var input = document.getElementsByName('user')[0];</span><br>
          <span class="courier">var name = input.name;</span><br>
          <span class="courier">var value = input.value;</span></strong><br>
      </blockquote>
      Now, properties <span class="courier">name</span> and <span class="courier">value</span> of the DOM element can be also called as attributes. In other words, the terminology attributes represents attributes of HTML tags; it also represents corresponding properties of DOM elements. If a tag doesn't define some attributes, the DOM element still has corresponding properties (attributes) and provides default values. For example, the above <span
        class="courier">input</span> tag doesn't define a <span class="courier">type</span> attribute, yet the corresponding property (attribute) of the DOM element has the value <span
        class="courier">'text'</span>. <br>
      <br>
      However, a HTML attribute and the corresponding DOM property don't always have an identical name. The <span
        class="courier">class</span> attribute is an example; it's a reserved word of JavaScript, so use the property <span
        class="courier">className</span> instead to get its value. Since <span
        class="courier">for</span> is a keyword, use the property <span
        class="courier">htmlFor</span> to return the <span class="courier">for</span> value of the <span
        class="courier">label</span> tag. For example: <br>
      <blockquote><strong><span class="courier">&lt;img id="logo" src="images/caterpillar.jpg" </span><br>
          <span class="courier">&nbsp;&nbsp;&nbsp;&nbsp; class="logo" title="Caterpillar's Logo" /&gt;</span></strong><br>
      </blockquote>
      Getting the <span class="courier">class</span> value of the above tag may be as follow: <br>
      <blockquote><strong><span class="courier">var className = document.getElementById('logo').className;</span><br>
        </strong></blockquote>
      What you get from a property isn't always the same as the statically-written value of the corresponding attribute. For example, the <span
        class="courier">src</span> property of the <span class="courier">img</span> element is an absolute URL, even the corresponding attribute is a relative URL. <br>
      <br>
      After a browser completes HTML parsing, it creates an <span class="courier">attributes</span> property - contains all written attributes of each tag - on each DOM element. The type of elements contained in <span
        class="courier">attributes</span> is <span class="courier">Attr</span>. You could show them by the following code: <br>
      <blockquote><strong><span class="courier">var attributes = document.getElementById('logo').attributes;</span><br>
          <span class="courier">for (var i = 0; i &lt;attributes.length; i++) {</span><br>
          <span class="courier">&nbsp;&nbsp;&nbsp; var attrName = attributes [i]. nodeName;</span><br>
          <span class="courier">&nbsp;&nbsp;&nbsp; var attrValue = attributes [i</span></strong><strong><span
            class="courier"></span></strong><strong><span class="courier">]. nodeValue;</span><br>
          <span class="courier">&nbsp;&nbsp;&nbsp; ...</span><br>
          <span class="courier">}</span></strong><br>
      </blockquote>
      If we simply use an object literal to represent the structure of a DOM element: <br>
      <blockquote><strong><span class="courier">{<br>
            &nbsp;&nbsp;&nbsp; attributes : {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '0' : {nodeName : 'id', nodeValue : 'logo', ...},<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '1' : {nodeName : 'src', nodeValue : 'images/src', ...},<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '2' : {nodeName : 'class', nodeValue : 'logo', ...},<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; '3' : {nodeName : 'title', nodeValue : 'Caterpillar\’s logo', ...},<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; length : 4<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br>
            &nbsp;&nbsp;&nbsp; },<br>
            &nbsp;&nbsp;&nbsp; id : 'logo',<br>
            &nbsp;&nbsp;&nbsp; src : 'http://caterpillar.onlyfun.net/images/caterpillar.jpg',<br>
            &nbsp;&nbsp;&nbsp; className : 'logo',<br>
            &nbsp;&nbsp;&nbsp; title : 'Caterpillar\'s logo',<br>
            &nbsp;&nbsp;&nbsp; …<br>
            }</span></strong><br>
      </blockquote>
      Properties of each <span class="courier">Attr</span> instance represents real attribute names and values of the corresponding tag. After parsing a document, attributes (properties) of DOM elements will correspond with properties of <span
        class="courier">Attr</span> instances contained in <span class="courier">attributes</span>. <br>
      <br>
      Note that the above object literal is only used to illustrate the structure; it doesn't mean anything about real types of properties. The type of attributes is <span
        class="courier">NamedNodeMap</span> and each index stores an <span
        class="courier">Attr</span> instance. (A JavaScript Debugger is convenient for you to observe that.)<br>
      <br>
      The <span class="courier">getAttribute</span> function of DOM elements returns an attribute of <span
        class="courier">attributes</span>; <span class="courier">setAttribute</span> are used to set it (will change the corresponding property simultaneously); <span
        class="courier">removeAttribute</span> is for removing.<br>
      <br>
      Removing an attribute means removing the corresponding <span class="courier">Attr</span> instance of <span
        class="courier">attributes</span>, not the corresponding property (attribute) of the DOM element. The later will be set a default value after <span
        class="createlink courier">removeAttribute</span> completes. If the tag doesn't define the attribute statically, <span
        class="courier">getAttribute</span> returns <span class="courier">null</span>. This doesn't mean the DOM element is lack of corresponding property, yet the corresponding property has a default value. Using <span
        class="courier">setAttribute</span> to set an attribute of <span
        class="courier">attributes</span> will changes the corresponding property of the DOM element simultaneously. <br>
      <br>
      For example, the following code only removes the corresponding <span
        class="courier">Attr</span> instance of the <span class="courier">src</span> attribute. It doesn't remove the <span
        class="courier">src</span> property (attribute) of the DOM element. The <span
        class="courier">src</span> property just goes back to a default value <span
        class="courier">''</span> - an empty string. <br>
      <blockquote><strong><span class="courier">var img = document.getElementById('logo');</span><br>
          <span class="courier">img.removeAttribute('src');</span><br>
          <span class="courier">// the value of img.src is '', not undefined</span><br>
          <span class="courier">// img.attributes['src'] is undefined</span><br>
        </strong></blockquote>
      Changing properties (attributes) of a DOM element doesn't affect <span
        class="courier">attributes</span>. For example:&nbsp; <br>
      <blockquote><strong><span class="courier">&lt;input id="user" value="guest"&gt;</span></strong><br>
      </blockquote>
      Observe the following code: <br>
      <blockquote><strong><span class="courier">document.getElementById('user').value = 'Justin';</span></strong><br>
        <strong><span class="courier">var user1 = document.getElementById('user').value; // value is 'Justin'</span></strong><br>
        <strong><span class="courier">var user2 = document.getElementById('user').getAttribute('value'); // value is 'guest'</span></strong><br>
      </blockquote>
      If you want to change properties of the DOM element and <span class="courier">attributes</span> simultaneously, use <span
        class="courier">setAttribute</span>. For example: <br>
      <blockquote><strong><span class="courier">document.getElementById('user').setAttribute('value', 'Justin');</span><br>
          <span class="courier">var user1 = document.getElementById('user').value; // value is 'Justin'</span><br>
          <span class="courier">var user2 = document.getElementById('user').getAttribute('value'); // value is 'Justin'</span><br>
        </strong></blockquote>
      <br>
      <p></p>
      <p></p>
      <ul>
      </ul>
    </div>
    <div class="aside">
      
       <br>
      <br>
      
       <br>
      <br>
      
       <br>
      <br>
      <br>
    </div>
      </body>
</html>
